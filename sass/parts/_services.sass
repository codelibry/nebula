.services
    margin-bottom: 211px
    position: relative
    +max-screen($breakpoint-lg)
        margin-bottom: 120px
    +max-screen($breakpoint-md)
        margin-bottom: 120px
    +max-screen($breakpoint-sm)
        margin-bottom: 99px
    // &::before

    .container
        max-width: calc(1739px + 60px)
        position: relative
        z-index: 1
        +max-screen($breakpoint-xxl)
            +min-screen(1660px)
                max-width: 87.76%
        +max-screen(1660px)
            max-width: 90%
        +max-screen($breakpoint-xl)
            max-width: 88%
        +max-screen(1200px)
            max-width: 1685px
        +max-screen($breakpoint-lg)
            max-width: 830px
        +max-screen($breakpoint-md)
            max-width: 768px
            // padding-left: 15px
            // padding-right: 15px
    &__inner
        padding: 136px 87px 136px 57px
        background: $color-bg-light
        box-shadow: 10px 10px 25px 0px rgba(20, 31, 56, 0.20), -8px -8px 25px 0px #FFF
        border-radius: 30px
        .dark_mode &
            background: $dark-mode-background
            box-shadow: 10px 10px 25px #141414, -8px -8px 25px #354153
        +max-screen($breakpoint-lg)
            padding: 86px 37px 86px 37px
        +max-screen($breakpoint-sm)
            padding: 86px 17px 86px 17px
    &__top
        max-width: 1235px
        margin: 0 auto
        +max-screen(1200px)
            padding-left: 80px
            padding-right: 80px
        +max-screen($breakpoint-lg)
            padding-left: 0
            padding-right: 0
        +max-screen($breakpoint-md)
            max-width: 581px
        &Title
            text-align: center
            margin-bottom: 40px
            +max-screen($breakpoint-sm)
                margin-bottom: 20px
                text-align: left
        &Text
            font-size: 24px
            line-height: 1.4
            +max-screen($breakpoint-xl)
                font-size: 22px
            +max-screen(1200px)
                font-size: 20px
            +max-screen($breakpoint-sm)
                font-size: 16px
                line-height: 1.45
            p
                margin-bottom: 24px
                &:last-child
                    margin-bottom: 0
            strong
                color: $s-pink
                .dark_mode &
                    color: $gold
    &__cards
        margin-top: 109px
        margin-left: 0
        margin-right: 0
        +max-screen($breakpoint-xl)
            margin-top: 84px
        +max-screen(1660px)
            // margin-left: -5%
            // margin-right: -5%
        +max-screen(1300px)
            margin-left: -3%
            margin-right: -3%
        +max-screen(1200px)
            margin-top: 72px
            margin-left: 0
            margin-right: 0
        +max-screen($breakpoint-lg)
            margin-top: 92px
            margin-bottom: 92px
        +max-screen($breakpoint-md)
        +max-screen($breakpoint-sm)

        &Item
            background-size: cover
            background-position: center
            display: flex
            align-items: center
            flex-direction: column
            padding-top: 60px
            padding-left: 30px
            padding-right: 30px
            position: relative
            border-radius: 25px
            overflow: hidden
            height: 100%
            padding-bottom: 61px
            +max-screen($breakpoint-xxs)
                padding: 32px 18px 32px
            +max-screen($breakpoint-lg)
                padding: 43px 31px 70px 31px
            +max-screen($breakpoint-sm)
                padding: 43px 21px 65px 21px
            &__wrapper
                padding: 0
                position: relative
                max-width: 23.8%
                flex: 0 0 23.8%

                +max-screen($breakpoint-sm)
                    max-width: 50%
                &:nth-child(4n + 1)
                    .services__cardsItem__title
                    &::after
                        content: ""
                        position: absolute
                        right: -17px
                        top: 50%
                        width: 98px
                        height: 98px
                        background-image: url(../assets/images/card_puzzle_new.svg)
                        transform: translateY(-50%)
                        background-size: cover
                        background-repeat: no-repeat
                        background-position: center
                        z-index: 1
                        .dark_mode &
                            background-image: url(../assets/images/card_puzzle_new_dark.svg)
                        +max-screen($breakpoint-xxs)
                            width: 80px
                            height: 80px
                            right: -14px
                        +max-screen($breakpoint-xl)
                            width: 54px
                            height: 54px
                            right: -9px
                            opacity: 0.8
                            border-radius: 10px
                        +max-screen(1200px)

                        +max-screen($breakpoint-lg)
                            --size: 115px
                            width: var(--size)
                            height: var(--size)
                            right: calc( 50% - (var(--size)/2) )
                            top: auto
                            bottom: -33.5px
                            border-radius: 0
                            transform: none
                            opacity: 1
                            background-image: url(../assets/images/mobile_puzzle_1.svg)
                            .dark_mode &
                                background-image: url(../assets/images/mobile_puzzle_1_dark.svg)
                                bottom: -39.5px
                        +max-screen($breakpoint-md)
                        +max-screen($breakpoint-sm)
                            --size: 95px
                            bottom: -27.5px
                            .dark_mode &
                                bottom: -32.5px

                    &::before
                        +max-screen($breakpoint-sm)
                            content: none

                    .services__cardsItem
                        background: $new-vizual-background-main
                        box-shadow: 4px 4px 20px 0px rgba(20, 31, 56, 0.15) inset, -5px -5px 20px 0px #FFF inset
                        .dark_mode &
                            background: $dark-mode-background
                            box-shadow: -5px -5px 20px 0px #354153 inset, 4px 4px 20px 0px #141414 inset
                        +max-screen($breakpoint-sm)
                            padding-left: 24px
                            padding-right: 16px
                        &::before

                        &::after
                            content: ""
                            width: 68px
                            height: 68px
                            -webkit-transform: translateY(-50%)
                            transform: translateY(-50%)
                            top: 50%
                            right: -7px
                            border-radius: 50%
                            position: absolute
                            background: $new-vizual-background-main
                            box-shadow: 4px 4px 20px 0px rgba(20, 31, 56, 0.15) inset, -5px -5px 20px 0px #FFF inset
                            .dark_mode &
                                content: none
                            +max-screen($breakpoint-xxs)
                                width: 50px
                                height: 50px
                            +max-screen($breakpoint-xl)
                                width: 48px
                                height: 48px
                            +max-screen(1200px)
                                width: 36px
                                height: 36px
                            +max-screen($breakpoint-lg)
                                display: none
                            +max-screen($breakpoint-md)
                            +max-screen($breakpoint-sm)

                &:nth-child(4n + 2)
                    .services__cardsItem__title
                    .services__cardsItem
                        background: $new-vizual-background-main
                        box-shadow: 4px 4px 20px 0px rgba(20, 31, 56, 0.15) inset, -5px -5px 20px 0px #FFF inset
                        .dark_mode &
                            background: $dark-mode-background
                            box-shadow: -5px -5px 20px 0px #354153 inset, 4px 4px 20px 0px #141414 inset

                &:nth-child(4n + 3)
                    +max-screen($breakpoint-sm)
                        z-index: 1
                    .services__cardsItem__title
                    &::after
                        content: ""
                        position: absolute
                        left: -20.5px
                        top: 50%
                        width: 95px
                        height: 108px
                        background-image: url(../assets/images/card_puzzle_new_right.svg)
                        transform: translateY(-50%)
                        background-size: cover
                        background-repeat: no-repeat
                        background-position: center
                        z-index: 1
                        border-radius: 25px
                        .dark_mode &
                            background-image: url(../assets/images/card_puzzle_new_right_dark.svg)
                            z-index: 4
                        +max-screen($breakpoint-xxs)
                            width: 74px
                            height: 80px
                            left: -16px
                        +max-screen($breakpoint-xl)
                            width: 49px
                            height: 54px
                            left: -10.5px
                        +max-screen(1200px)
                            opacity: 0.7
                        +max-screen($breakpoint-lg)
                            --size: 115px
                            width: var(--size)
                            height: var(--size)
                            left: auto
                            right: calc( 50% - (var(--size)/2) )
                            top: -80px
                            border-radius: 0
                            transform: none
                            opacity: 1
                            background-image: url(../assets/images/mobile_puzzle_2_top.svg)
                            .dark_mode &
                                background-image: url(../assets/images/mobile_puzzle_1_dark.svg)
                                top: -76px
                        +max-screen($breakpoint-md)
                        +max-screen($breakpoint-sm)
                            --size: 95px
                            top: -65px
                            .dark_mode &
                                top: -61.5px

                    &::before
                        content: ""
                        width: 82px
                        height: 90px
                        -webkit-transform: translateY(-50%)
                        transform: translateY(-50%)
                        top: 50%
                        right: -2.5px
                        border-radius: 15px
                        position: absolute
                        background-image: url(../assets/images/card_puzzle_new_left_2.svg)
                        background-size: cover
                        background-repeat: no-repeat
                        background-position: center
                        z-index: 1
                        .dark_mode &
                            background-image: url(../assets/images/card_puzzle_new_left_2_dark.svg)
                            right: -5px
                            z-index: 4
                        +max-screen($breakpoint-xxs)
                            right: 0px
                            width: 65px
                            height: 72px
                            .dark_mode &
                                right: -5px
                        +max-screen($breakpoint-xl)
                            width: 45px
                            height: 50px
                            .dark_mode &
                                right: -4px
                        +max-screen(1200px)
                            border-radius: 15px
                            opacity: 0.9
                        +max-screen($breakpoint-lg)
                            --size: 115px
                            width: var(--size)
                            height: var(--size)
                            left: auto
                            right: calc( 50% - (var(--size)/2) )
                            bottom: -80px
                            top: auto
                            border-radius: 0
                            transform: none
                            opacity: 0.9
                            background-image: url(../assets/images/mobile_puzzle_2_bottom.svg)
                            .dark_mode &
                                background-image: url(../assets/images/mobile_puzzle_2_bottom_dark.svg)
                                right: calc( 50% - (var(--size)/2) )
                                border-bottom-right-radius: 100px
                                bottom: -84px
                        +max-screen($breakpoint-md)
                        +max-screen($breakpoint-sm)
                            --size: 95px
                            bottom: -67px
                            .dark_mode &
                                bottom: -69.5px

                    .services__cardsItem
                        background: $new-vizual-background-main
                        box-shadow: 4px 4px 20px 0px rgba(20, 31, 56, 0.20) inset, -5px -5px 20px 0px #FFF inset
                        position: relative
                        border-radius: 25px
                        overflow: hidden
                        +max-screen($breakpoint-lg)
                            box-shadow: 4px 4px 20px 0px rgba(20, 31, 56, 0.15) inset, -5px -5px 20px 0px #FFF inset
                        .dark_mode &
                            position: relative
                            z-index: 2
                            background: $dark-mode-background
                            box-shadow: -5px -5px 20px 0px #354153 inset, 4px 4px 20px 0px #141414 inset
                            +max-screen($breakpoint-lg)
                                box-shadow: -5px -5px 20px 0px #354153 inset, 4px 4px 20px 0px #141414 inset
                        &::before

                        &::after
                            content: ""
                            width: 64px
                            height: 64px
                            -webkit-transform: translateY(-50%)
                            transform: translateY(-50%)
                            top: 50%
                            left: -7px
                            border-radius: 50%
                            position: absolute
                            background: $new-vizual-background-main
                            box-shadow: 4px 4px 20px 0px rgba(20, 31, 56, 0.15) inset, -5px -5px 20px 0px #FFF inset
                            .dark_mode &
                                background: $dark-mode-background
                                box-shadow: -5px -5px 20px 0px #354153 inset, 4px 4px 20px 0px #141414 inset
                                z-index: 3
                            +max-screen($breakpoint-xxs)
                                width: 50px
                                height: 50px
                            +max-screen($breakpoint-xl)
                                width: 48px
                                height: 48px
                                .dark_mode &
                                    width: 44px
                                    height: 44px
                                    box-shadow: -5px -5px 10px 0px #354153 inset, 4px 4px 10px 0px #141414 inset
                            +max-screen(1200px)
                                width: 36px
                                height: 36px
                                .dark_mode &
                                    display: none
                            +max-screen($breakpoint-lg)
                                display: none
                            +max-screen($breakpoint-md)
                            +max-screen($breakpoint-sm)
                &:nth-child(4n + 4)
                    padding-left: 60px
                    margin-top: -30px
                    max-width: 28.6%
                    flex: 0 0 28.6%
                    transform: translateX(10px)
                    height: 100%
                    +max-screen(1660px)
                        transform: none
                    +max-screen($breakpoint-xl)
                        padding-left: 34px
                    +max-screen(1200px)
                        padding-left: 32px
                        transform: none
                        height: auto
                    +max-screen($breakpoint-lg)
                        flex: 0 0 100%
                        max-width: 381px
                        padding-left: 0
                        margin-left: auto
                        margin-right: auto
                        margin-top: 90px
                        z-index: 3
                        transform: translateX(62px)
                    +max-screen($breakpoint-md)
                        transform: translateX(12px)
                    +max-screen($breakpoint-sm)
                        max-width: 80%
                    +max-screen(425px)
                        max-width: 94%
                    .services__cardsItem__title
                        text-align: center
                        margin-top: 18px
                        +max-screen($breakpoint-lg)
                            padding: 0 5px
                        +max-screen($breakpoint-md)
                            margin-top: 9px
                            padding: 0 5px
                        +max-screen($breakpoint-sm)
                            padding: 0 4.5px
                    .services__cardsItem__text
                        margin-top: 5.4px
                        padding-left: 12px
                        +max-screen($breakpoint-lg)
                            padding-left: 5px
                        +max-screen($breakpoint-md)
                            padding-left: 0
                            br
                                display: none
                        +max-screen($breakpoint-sm)
                            padding-left: 9px
                    &::before
                        +max-screen($breakpoint-sm)

                    &::after
                        content: ""
                        position: absolute
                        left: -8.5px
                        top: 50%
                        width: 98px
                        height: 98px
                        background-image: url(../assets/images/card_puzzle_4_new_2.svg)
                        background-size: cover
                        background-repeat: no-repeat
                        background-position: center
                        z-index: 1
                        transform: rotate(-8.87deg) translateY(-25%)
                        .dark_mode &
                            background-image: url(../assets/images/card_puzzle_4_new_2_dark.svg)
                            border-top-left-radius: 40px
                            border-bottom-left-radius: 40px
                            left: -9.5px
                        +max-screen($breakpoint-xxs)
                            width: 72px
                            height: 72px
                            left: 10.4px
                            .dark_mode &
                                left: 8.4px
                        +max-screen($breakpoint-xl)
                            width: 54px
                            height: 54px
                            left: -4.29px
                            opacity: 0.8
                            border-radius: 15px
                            .dark_mode &
                                left: -4.4px
                        +max-screen(1200px)
                            left: -5px
                            .dark_mode &
                                left: -6px
                        +max-screen($breakpoint-lg)
                            --size: 115px
                            width: var(--size)
                            height: var(--size)
                            left: auto
                            right: calc( 65% - (var(--size)/2) )
                            top: -26px
                            bottom: auto
                            border-radius: 0
                            transform: rotate(-14deg)
                            opacity: 1
                            background-image: url(../assets/images/mobile_puzzle_3_top.svg)
                            .dark_mode &
                                left: auto
                                top: -27.5px
                                background-image: url(../assets/images/mobile_puzzle_3_top_dark.svg)
                        +max-screen($breakpoint-md)
                        +max-screen($breakpoint-sm)
                            --size: 95px
                            transform: rotate(-8.87deg)
                            right: calc( 58% - (var(--size)/2) )
                            top: -24px
                            .dark_mode &
                                top: -26px

                    .services__cardsItem
                        background: $new-vizual-background-main
                        box-shadow: -5px -5px 20px 0px #FFF inset, 4px 4px 20px 0px rgba(20, 31, 56, 0.20) inset
                        transform: rotate(-8.87deg)
                        .dark_mode &
                            background: $dark-mode-background
                            box-shadow: -5px -5px 20px 0px #354153 inset, 4px 4px 20px 0px #141414 inset
                        +max-screen(1200px)
                            height: 97%
                        +max-screen($breakpoint-lg)
                            height: 100%
                            transform: rotate(-14deg)
                            padding: 77px 31px 70px
                            box-shadow: 4px 4px 20px 0px rgba(20, 31, 56, 0.15) inset, -5px -5px 20px 0px #FFF inset
                        +max-screen($breakpoint-sm)
                            transform: rotate(-8.87deg)
                            padding: 67px 21px 60px

                &:nth-child(4n + 1),
                &:nth-child(4n + 2),
                &:nth-child(4n + 3)
                    +max-screen($breakpoint-lg)
                        flex: 0 0 100%
                        max-width: 381px
                        margin-left: auto
                        margin-right: auto
                    +max-screen($breakpoint-sm)
                        flex: 0 0 100%
                        max-width: 80%
                    +max-screen(425px)
                        max-width: 94%
            &__text
                font-size: 20px
                line-height: 1.4
                margin-top: 26px
                z-index: 2
                position: relative
                +max-screen($breakpoint-xxs)
                    margin-top: 38px
                    font-size: 15px
                +max-screen($breakpoint-xl)
                    margin-top: 28px
                    font-size: 12px
                +max-screen($breakpoint-lg)
                    font-size: 20px
                    margin-top: 26px
                +max-screen($breakpoint-md)
                    font-size: 18px
                +max-screen($breakpoint-sm)
                    font-size: 16px
                    line-height: 1.4
                    margin-top: 10px

            &__image
                z-index: 1
                position: relative
                img
                    .dark_mode &
                        display: none
                    &.dark
                        display: none
                        .dark_mode &
                            display: block
                    +max-screen($breakpoint-xxs)
                        max-width: 100px
                    +max-screen($breakpoint-xl)
                        max-width: 71px
                    +max-screen($breakpoint-lg)
                        max-width: 150px
                    +max-screen($breakpoint-sm)
                        max-width: 100px
            &__title
                font-size: 36px
                line-height: 1.05
                margin-top: 46px
                z-index: 1
                position: relative
                +max-screen($breakpoint-xxs)
                    font-size: 30px
                    margin-top: 32px
                +max-screen($breakpoint-xl)
                    font-size: 26px
                    margin-top: 24px
                +max-screen($breakpoint-lg)
                    font-size: 36px
                    margin-top: 48px
                +max-screen($breakpoint-md)
                    font-size: 32px
                    margin-top: 28px
                +max-screen($breakpoint-sm)
                    // font-size: 14px
                    // margin-top: 18px
    &__text
        max-width: 1235px
        margin: 0 auto
        font-size: 24px
        margin-top: 112px
        line-height: 1.4
        &.opened
            max-height: 100%
        +max-screen($breakpoint-xl)
            font-size: 20px
            margin-top: 82px
        +max-screen(1200px)
            padding-left: 80px
            padding-right: 80px
            margin-top: 62px
            font-size: 20px
        +max-screen($breakpoint-lg)
            margin-top: 50px
            padding-left: 0
            padding-right: 0
        +max-screen($breakpoint-md)
            margin-top: 40px
            max-width: 581px
            margin-left: auto
            margin-right: auto
        +max-screen($breakpoint-sm)
            font-size: 16px
            line-height: 1.45
            margin-top: 20px
            // max-height: 8.6em
            overflow: hidden
        p
            margin-bottom: 24px
            +max-screen($breakpoint-sm)
                margin-bottom: 22px
            &:last-child
                margin-bottom: 0
        &__readMore
            display: none
            +max-screen($breakpoint-sm)
                margin-top: 20px
                display: block
                font-size: 16px
                line-height: 1.4
                text-transform: uppercase
                text-align: right
    &__btn
        text-align: center
        margin-top: 80.0px
        +max-screen($breakpoint-lg)
            margin-top: 40px
        +max-screen($breakpoint-md)
            margin-top: 40px
